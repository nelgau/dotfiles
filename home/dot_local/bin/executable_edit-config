#!/usr/bin/env bash
set -eufo pipefail

if [[ $# -eq 1 ]] ; then
    selected_name="$1"
    selected_path="$HOME/.config/$selected_name"
else
    selected_path=$(find $HOME/.config -mindepth 1 -maxdepth 1 -type d | fzf)
    selected_name=$(basename $selected_path)
fi

session="config-$selected_name"
start_dir="$selected_path"

tmux-edit --session $session $start_dir
